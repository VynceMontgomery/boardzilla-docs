"use strict";(self.webpackChunkboardzilla_docs=self.webpackChunkboardzilla_docs||[]).push([[977],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),p=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return n.createElement(d.Provider,{value:t},e.children)},m="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,h=m["".concat(d,".").concat(c)]||m[c]||k[c]||l;return a?n.createElement(h,i(i({ref:t},s),{},{components:a})):n.createElement(h,i({ref:t},s))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},6793:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>k,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={id:"Game",title:"Class: Game<P, B>",sidebar_label:"Game",sidebar_position:5,custom_edit_url:null},i=void 0,o={unversionedId:"api/classes/Game",id:"api/classes/Game",title:"Class: Game<P, B>",description:"Core class for Boardzilla. Each game will create a single instance of this",source:"@site/docs/api/classes/Game.md",sourceDirName:"api/classes",slug:"/api/classes/Game",permalink:"/api/classes/Game",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"Game",title:"Class: Game<P, B>",sidebar_label:"Game",sidebar_position:5,custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"ElementCollection",permalink:"/api/classes/ElementCollection"},next:{title:"GameElement",permalink:"/api/classes/GameElement"}},d={},p=[{value:"Type parameters",id:"type-parameters",level:2},{value:"Actions",id:"actions",level:2},{value:"action",id:"action",level:3},{value:"Type parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Other",id:"other",level:2},{value:"board",id:"board",level:3},{value:"Defined in",id:"defined-in-1",level:4},{value:"flowCommands",id:"flowcommands",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"Defined in",id:"defined-in-2",level:4},{value:"players",id:"players",level:3},{value:"Defined in",id:"defined-in-3",level:4},{value:"addDelay",id:"adddelay",level:3},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"defineActions",id:"defineactions",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"defineFlow",id:"defineflow",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"finish",id:"finish",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"followUp",id:"followup",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"getState",id:"getstate",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"message",id:"message",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"setting",id:"setting",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-8",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"start",id:"start",level:3},{value:"Returns",id:"returns-9",level:4},{value:"Defined in",id:"defined-in-12",level:4}],s={toc:p},m="wrapper";function k(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Core class for Boardzilla. Each game will create a single instance of this\nclass which will orchestrate the different parts of the game, the ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Board"},"Board"),", the ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Player"},"Player"),"'s, the ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Action"},"Action"),"'s and the Flow."),(0,r.kt)("h2",{id:"type-parameters"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"P")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("a",{parentName:"td",href:"/api/classes/Player"},(0,r.kt)("inlineCode",{parentName:"a"},"Player")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"B"),">"," = ",(0,r.kt)("inlineCode",{parentName:"td"},"any"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"B")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("a",{parentName:"td",href:"/api/classes/Board"},(0,r.kt)("inlineCode",{parentName:"a"},"Board")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"B"),">"," = ",(0,r.kt)("inlineCode",{parentName:"td"},"any"))))),(0,r.kt)("h2",{id:"actions"},"Actions"),(0,r.kt)("h3",{id:"action"},"action"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"action"),"\\<",(0,r.kt)("inlineCode",{parentName:"p"},"A"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"definition?"),"): ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Action"},(0,r.kt)("inlineCode",{parentName:"a"},"Action")),"\\<",(0,r.kt)("inlineCode",{parentName:"p"},"P"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),">"),(0,r.kt)("p",null,"Create an ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Action"},"Action"),". An action is a single move that a player can\ntake. Some actions require choices, sometimes several, before they can be\nexecuted. Some don't have any choices, like if a player can simply\n'pass'. What defines where one action ends and another begins is how much\nyou as a player can decide before you \"commit\". For example, in chess you\nselect a piece to move and then a place to put it. These are a single move,\nnot separate. (Unless playing touch-move, which is rarely done in digital\nchess.) In hearts, you pass 3 cards to another players. These are a single\nmove, not 3. You can change your mind as you select the cards, rather than\nhave to commit to each one. Similarly, other players do not see any\ninformation about your choices until you actually commit the entire move."),(0,r.kt)("p",null,"This function is called for each action in the game ",(0,r.kt)("inlineCode",{parentName:"p"},"actions")," you define in\n",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Game#defineactions"},"defineActions"),". These actions are initially declared with an optional\nprompt and condition. Further information is added to the action by chaining\nmethods that add choices and behaviour. See (@link Action) for more."),(0,r.kt)("p",null,"If this action accepts prior arguments besides the ones chosen by the\nplayer during the execution of this action (especially common for ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Game#followup"},"followUp")," actions) then a generic can be added for these arguments to help\nTypescript type these parameters, e.g.:\n",(0,r.kt)("inlineCode",{parentName:"p"},"player => action<{ cards: number}>(...)")),(0,r.kt)("h4",{id:"type-parameters-1"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"Record"),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#argument"},(0,r.kt)("inlineCode",{parentName:"a"},"Argument")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),">",">"," = {}")))),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"definition")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"definition.condition?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")," ","|"," (",(0,r.kt)("inlineCode",{parentName:"td"},"args"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"A"),") => ",(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A boolean or a function returning a boolean that determines whether the action is currently allowed. Note that the choices you define for your action will further determine if the action is allowed. E.g. if you have a play card action and you add a choice for cards in your hand, Boardzilla will automatically disallow this action if there are no cards in your hand based on the face that there are no valid choices to complete the action. You do not need to specify a ",(0,r.kt)("inlineCode",{parentName:"td"},"condition")," for these types of limitations. If using the function form, the function will receive an object with any arguments passed to this action, e.g. from ",(0,r.kt)("a",{parentName:"td",href:"/api/classes/Game#followup"},"followUp"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"definition.prompt?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The prompt that will appear for the player to explain what the action does. Further prompts can be defined for each choice they subsequently make to complete the action.")))),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/api/classes/Action"},(0,r.kt)("inlineCode",{parentName:"a"},"Action")),"\\<",(0,r.kt)("inlineCode",{parentName:"p"},"P"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"A"),">"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"action({\n  prompt: 'Flip one of your cards'\n}).chooseOnBoard({\n  choices: board.find(Card, {mine: true})\n}).do(\n  card => card.hideFromAll()\n)\n")),(0,r.kt)("h4",{id:"defined-in"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L339"},"boardzilla-core/src/game.ts:339")),(0,r.kt)("h2",{id:"other"},"Other"),(0,r.kt)("h3",{id:"board"},"board"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"board"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"B")),(0,r.kt)("p",null,"The board for this game. See ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Board"},"Board")),(0,r.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L80"},"boardzilla-core/src/game.ts:80")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"flowcommands"},"flowCommands"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"flowCommands"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("p",null,"The flow commands available for this game."),(0,r.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"eachPlayer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#eachplayer"},(0,r.kt)("inlineCode",{parentName:"a"},"eachPlayer")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"everyPlayer")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#everyplayer"},(0,r.kt)("inlineCode",{parentName:"a"},"everyPlayer")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"forEach")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#foreach"},(0,r.kt)("inlineCode",{parentName:"a"},"forEach")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"forLoop")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#forloop"},(0,r.kt)("inlineCode",{parentName:"a"},"forLoop")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"ifElse")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#ifelse"},(0,r.kt)("inlineCode",{parentName:"a"},"ifElse")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"loop")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#loop"},(0,r.kt)("inlineCode",{parentName:"a"},"loop")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"playerActions")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#playeractions"},(0,r.kt)("inlineCode",{parentName:"a"},"playerActions")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"switchCase")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#switchcase"},(0,r.kt)("inlineCode",{parentName:"a"},"switchCase")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"whileLoop")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#whileloop"},(0,r.kt)("inlineCode",{parentName:"a"},"whileLoop")))))),(0,r.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L95"},"boardzilla-core/src/game.ts:95")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"players"},"players"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"players"),": ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/PlayerCollection"},(0,r.kt)("inlineCode",{parentName:"a"},"PlayerCollection")),"\\<",(0,r.kt)("inlineCode",{parentName:"p"},"P"),">"),(0,r.kt)("p",null,"The players in this game. See ",(0,r.kt)("a",{parentName:"p",href:"/api/classes/Player"},"Player")),(0,r.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L76"},"boardzilla-core/src/game.ts:76")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"adddelay"},"addDelay"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"addDelay"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"Add a delay in the animation of the state change at this point for player\nas they receive game updates."),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L273"},"boardzilla-core/src/game.ts:273")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"defineactions"},"defineActions"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"defineActions"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"actions"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"Define your game's actions."),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"actions")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Record"),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"string"),", (",(0,r.kt)("inlineCode",{parentName:"td"},"player"),": ",(0,r.kt)("inlineCode",{parentName:"td"},"P"),") => ",(0,r.kt)("a",{parentName:"td",href:"/api/classes/Action"},(0,r.kt)("inlineCode",{parentName:"a"},"Action")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"Record"),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#argument"},(0,r.kt)("inlineCode",{parentName:"a"},"Argument")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),">",">",">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"An object consisting of actions where the key is the name of the action and value is a function that accepts a player taking the action and returns the result of calling ",(0,r.kt)("a",{parentName:"td",href:"/api/classes/Game#action"},"action")," and chaining choices, results and messages onto the result")))),(0,r.kt)("h4",{id:"returns-2"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L154"},"boardzilla-core/src/game.ts:154")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"defineflow"},"defineFlow"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"defineFlow"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"...flow"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"Define your game's flow."),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"...flow")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/modules#flowstep"},(0,r.kt)("inlineCode",{parentName:"a"},"FlowStep")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),">","[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Any number of the following: - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#playeractions"},"playerActions")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#loop"},"loop")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#whileloop"},"whileLoop")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#foreach"},"forEach")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#forloop"},"forLoop")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#eachplayer"},"eachPlayer")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#everyplayer"},"everyPlayer")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#ifelse"},"ifElse")," - ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#switchcase"},"switchCase"))))),(0,r.kt)("h4",{id:"returns-3"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L141"},"boardzilla-core/src/game.ts:141")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"finish"},"finish"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"finish"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"winner?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"End the game"),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"winner?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"P")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"P"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"a player or players that are the winners of the game. In a solo game if no winner is provided, this is considered a loss.")))),(0,r.kt)("h4",{id:"returns-4"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L195"},"boardzilla-core/src/game.ts:195")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"followup"},"followUp"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"followUp"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"action"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"Queue up a follow-up action while processing an action. If called during\nthe processing of a game action, the follow-up action given will be added\nas a new action immediately following the current one, before the game's\nflow can resume normally. This is common for card games where the play of a\ncertain card may require more actions be taken."),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"action")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/api/modules#followup"},(0,r.kt)("inlineCode",{parentName:"a"},"FollowUp")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The action added to the follow-up queue.")))),(0,r.kt)("h4",{id:"returns-5"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"defineAction({\n  ...\n  playCard: player => action()\n    .chooseOnBoard('card', cards)\n    .do(\n      ({ card }) => {\n        if (card.damage) {\n          // this card allows another action to do damage to another Card\n          game.followUp({\n            name: 'doDamage',\n            args: { amount: card.damage }\n          });\n        }\n      }\n    )\n")),(0,r.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L391"},"boardzilla-core/src/game.ts:391")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"getstate"},"getState"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"getState"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"player?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"GameState"),"\\<",(0,r.kt)("inlineCode",{parentName:"p"},"P"),">"),(0,r.kt)("p",null,"state functions"),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"player?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"P"))))),(0,r.kt)("h4",{id:"returns-6"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"GameState"),"\\<",(0,r.kt)("inlineCode",{parentName:"p"},"P"),">"),(0,r.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L204"},"boardzilla-core/src/game.ts:204")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"message"},"message"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"message"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"message"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"args?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"Add a message that will be broadcast in the chat at the next game update,\nbased on the current state of the game."),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"message")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The message to send. This can contain interpolated strings with double braces, i.e. {{player}} that are defined in args. Of course, strings can be interpolated normally using template literals. However game objects (e.g. players or pieces) passed in as args will be displayed specially by Boardzilla.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"args?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Record"),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,r.kt)("a",{parentName:"td",href:"/api/modules#argument"},(0,r.kt)("inlineCode",{parentName:"a"},"Argument")),"\\<",(0,r.kt)("inlineCode",{parentName:"td"},"P"),">",">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"AN object of key-value pairs of strings for interpolation in the message.")))),(0,r.kt)("h4",{id:"returns-7"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Example"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"game.message(\n  '{{player}} has a score of {{score}}',\n  { player, score: player.score() }\n);\n")),(0,r.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L556"},"boardzilla-core/src/game.ts:556")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"setting"},"setting"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"setting"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"key"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"any")),(0,r.kt)("p",null,"Retrieve the selected setting value for a setting defined in ",(0,r.kt)("a",{parentName:"p",href:"/api/modules#render"},"render"),"."),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"key")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string"))))),(0,r.kt)("h4",{id:"returns-8"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"any")),(0,r.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L167"},"boardzilla-core/src/game.ts:167")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"start"},"start"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"start"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("p",null,"flow functions"),(0,r.kt)("h4",{id:"returns-9"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"void")),(0,r.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/boardzilla/boardzilla-core/blob/41757ea/src/game.ts#L180"},"boardzilla-core/src/game.ts:180")))}k.isMDXComponent=!0}}]);